var e=Object.defineProperty,t=(t,r,n)=>(((t,r,n)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n})(t,"symbol"!=typeof r?r+"":r,n),n);import{r,a as n}from"./vendor.de62f314.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(r){const n=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((r,a)=>{const c=new URL(e,n);if(self[t].moduleMap[c])return r(self[t].moduleMap[c]);const s=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){a(new Error(`Failed to import: ${e}`)),o(i)},onload(){r(self[t].moduleMap[c]),o(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/assets/");const o=0,a=1;class c{constructor(e,r){t(this,"data"),this.id=e,this.type=r}}class s{constructor(e){t(this,"parent",null),t(this,"children",[]),this.data=e}remove(){if(null==this.parent)return;const e=this.parent.children.indexOf(this);-1!==e&&this.parent.children.splice(e,1)}addChild(e){const t=new s(e);return t.parent=this,this.children.push(t),t}findLeaf(e){for(let t=this.children.length-1;t>=0;t--){const r=this.children[t].findLeaf(e);if(void 0!==r)return r}if(e(this.data))return this}flatData(){const e=[];for(let t=this.children.length-1;t>=0;t--){const r=this.children[t];e.push(...r.flatData())}return e.push(this.data),e}}function i(e,t){if(0===t.length)return e;const[r,...n]=t;for(let o of e.children)if(o.data.id===r)return i(o,n)}function l(e,t){return(e.key.toLowerCase()===t.key.toLowerCase()||e.code===t.key)&&e.altKey===(t.altKey||!1)&&e.ctrlKey===(t.ctrlKey||!1)&&e.shiftKey===(t.shiftKey||!1)&&e.metaKey===(t.metaKey||!1)}const u=new class{constructor(){t(this,"_onKeyDown",(e=>{if(e.defaultPrevented)return;if(e.repeat)return;if(e.isComposing)return;if(!(e instanceof KeyboardEvent))return;const t=this._currentRoot.flatData().flatMap((e=>e.data));for(const r of t)if(l(e,r)){r.callback();break}})),this._root=new s(new c(-1,o)),this._root.data.data=[],window.addEventListener("keydown",this._onKeyDown)}get _currentRoot(){return this._root.findLeaf((e=>e.type===o))}register(e,t,r){return i(this._root,e).addChild(new c(t,r))}},d=r.createContext({path:[],manager:u,register:(e,t,r)=>u.register(e,t,r)});d.displayName="KeyboardManagementContext";let m=0;function h(e){const t=[];return function({children:n,shortcuts:o=t}){const a=r.useRef(void 0);void 0===a.current&&(a.current=++m);const c=r.useRef(),{path:s,manager:i,register:l}=r.useContext(d),u=r.useMemo((()=>{const e=s;return{path:[...e,a.current],manager:i,register:(t,r,n)=>(void 0===c.current&&(c.current=l(e,a.current,n)),l(t,r,n))}}),[s,i,l]);return r.useEffect((()=>(void 0===c.current&&(c.current=l(s,a.current,e)),()=>{void 0!==c.current&&(c.current.remove(),c.current=void 0)})),[s,l]),r.useEffect((()=>{const e=c.current;return e&&(e.data.data=o),()=>{e.data.data=[]}})),r.createElement(d.Provider,{value:u},n)}}const f=h(o);f.displayName="KeyboardShortcutsRoot";const p=h(a);function y(){return r.createElement("div",{className:"FrameKey"})}function v({shortcut:e,shortcutDisplay:t=e,description:n,inverse:o=!1,onShortcut:a}){return r.createElement(p,{shortcuts:[{key:e,callback:a}]},r.createElement("div",{className:"FrameKey "+(o?"FrameKey--inverse":"")},r.createElement("kbd",{className:"FrameKey__kbd"},t.toUpperCase()),r.createElement("span",null,n)))}p.displayName="KeyboardShortcutsGlobal";const E="zxcvbnm,".split("");function w({onDelete:e}){const[t,n]=r.useState(!1),[o,a]=r.useState(0);function c(){a((e=>Math.min(3,e+1)))}return r.createElement(f,null,r.createElement("div",{className:"Frame"},r.createElement("div",{className:"Frame__content "+(t?"Frame__content--hasFrame":"")},null==e?null:r.createElement(v,{inverse:!0,shortcut:"Backspace",shortcutDisplay:"âŒ«",onShortcut:e,description:"Delete"}),r.createElement(v,{shortcut:"z",onShortcut:()=>n(!0),description:"For new root"}),Array.from(Array(o+1),((e,t)=>{const n=t+1;return 3===t?r.createElement(y,{key:n}):r.createElement(v,{key:n,shortcut:E[n],onShortcut:c,description:3===n?"For new empty":"For new shortcut"})}))),t?r.createElement(w,{onDelete:()=>n(!1)}):null))}function b(){return r.createElement(w,null)}n.render(r.createElement(r.StrictMode,null,r.createElement(b,null)),document.getElementById("root"));
